<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vocabulary Cards with Background and Scroll</title>
<style>
  /* Фон всего проекта — вне карточек */
  body, html {
    margin: 0;
    padding: 0;
    min-height: 100%;
    font-family: "Times New Roman", serif;
    background: url('images/IMG_20250903_205933_659.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
  }

  /* Контейнер с карточками, поверх фонового изображения */
  .cards-container {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 20px auto;
    display: flex;
    flex-direction: column;
    gap: 40px;
  }

  .card {
    position: relative;
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    border-radius: 20px;
    padding: 40px 20px 60px 20px;
    box-shadow: 0 0 35px rgba(0,0,0,0.8);
    user-select: none;
    color: #fff;
    min-height: 280px;
    max-height: 420px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
  }

  .phrase-container {
    display: flex;
    align-items: center;
    background-color: rgba(0,0,0,0.65);
    border-radius: 15px;
    padding: 15px 20px;
    box-shadow: 0 0 15px rgba(0,0,0,0.8);
    user-select: text;
    position: relative;
    z-index: 2;
  }

  .phrase {
    font-size: 1.6rem;
    font-weight: bold;
    font-family: "Georgia", serif;
    line-height: 1.3;
    flex-grow: 1;
  }

  .toggle-thumbnail {
    width: 40px;
    height: 40px;
    border-radius: 6px;
    cursor: pointer;
    filter: drop-shadow(0 0 4px rgba(255,110,199,0.6));
    user-select: none;
    flex-shrink: 0;
    margin-left: 15px;
    transition: transform 0.3s ease;
  }
  .toggle-thumbnail.open {
    transform: rotate(45deg) scale(1.1);
  }

  .definition {
    margin-top: 15px;
    background-color: rgba(0,0,0,0.7);
    padding: 15px 25px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.9);
    color: #eee;
    font-family: "Arial", sans-serif;
    font-size: 1.3rem;
    line-height: 1.5;

    max-height: 0;
    overflow: hidden;
    opacity: 0;

    transition: max-height 0.5s ease, opacity 0.5s ease;
    user-select: text;
  }

  .definition.show {
    max-height: 180px;
    opacity: 1;
    overflow-y: auto;
  }

  /* Яркий прокрутка определения */
  .definition.show::-webkit-scrollbar {
    width: 12px;
  }
  .definition.show::-webkit-scrollbar-track {
    background: rgba(255,110,199,0.3);
    border-radius: 6px;
  }
  .definition.show::-webkit-scrollbar-thumb {
    background-color: rgba(255,110,199,0.85);
    border-radius: 6px;
    border: 2px solid rgba(0,0,0,0.3);
  }
  .definition.show {
    scrollbar-width: thin;
    scrollbar-color: rgba(255,110,199,0.85) rgba(255,110,199,0.3);
  }

  /* Стили для печати */
  @media print {
    body, html {
      background: url('images/IMG_20250903_205933_659.jpg') no-repeat center center fixed !important;
      background-size: cover !important;
      color: black !important;
      margin: 0;
      padding: 0;
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
    }
    .cards-container {
      max-width: 100% !important;
      margin: 0;
      padding: 0;
    }
    .card {
      page-break-inside: avoid;
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;

      background-repeat: no-repeat !important;
      background-size: cover !important;
      background-position: center center !important;

      box-shadow: 0 0 20px rgba(0,0,0,0.3) !important;
      border-radius: 20px !important;
      padding: 20px !important;
      color: black !important;
      max-height: none !important;
      min-height: 320px !important;
      overflow: visible !important;
      margin-bottom: 30px !important;
      break-inside: avoid;
    }
    .phrase-container {
      background-color: rgba(255 255 255 / 0.8) !important;
      box-shadow: 0 0 15px rgba(0,0,0,0.1) !important;
      color: black !important;
      padding: 10px 15px !important;
      border-radius: 15px !important;
    }
    .phrase {
      font-size: 1.3rem !important;
      font-weight: bold !important;
      color: black !important;
    }
    .toggle-thumbnail {
      display: none !important;
    }
    .definition {
      max-height: none !important;
      opacity: 1 !important;
      overflow: visible !important;
      background-color: rgba(255 255 255 / 0.85) !important;
      color: black !important;
      box-shadow: none !important;
      border-radius: 12px !important;
      padding: 10px 15px !important;
      font-size: 1.1rem !important;
      line-height: 1.4 !important;
    }
  }

  #printBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(255,110,199,0.8);
    border: none;
    color: #fff;
    font-size: 1.1rem;
    padding: 10px 18px;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(255,110,199,0.9);
    transition: background 0.3s ease;
    z-index: 110;
    user-select: none;
  }
  #printBtn:hover {
    background: rgba(255,110,199,1);
  }
</style>
</head>
<body>

<div class="cards-container" id="cardsContainer" role="list" aria-label="Vocabulary cards list">
  <!-- Здесь появятся карточки -->
</div>

<button id="printBtn" aria-label="Save or print all cards">Save / Print as PDF</button>

<script>
  // Данные карточек
  const words = [
    {
      phrase: "To live by using another person's money, food, or help without giving anything back or helping in return.",
      definition: "Sponge off someone",
      bg: "images/IMG_20250903_132958_730.jpg"
    },
    {
      phrase: "To be in a situation or relationship that is in serious trouble and is likely to fail or end soon.",
      definition: "Be on the rocks",
      bg: "images/IMG_20250903_133840_184.jpg"
    },
    {
      phrase: "To remain angry with someone for something they did in the past",
      definition: "Hold a grudge (against someone)",
      bg: "images/IMG_20250903_134410_369.jpg"
    },
    {
      phrase: "To act deliberately unfriendly or distant towards someone",
      definition: "Give someone the cold shoulder",
      bg: "images/IMG_20250903_135012_981.jpg"
    },
    {
      phrase: "To intentionally avoid speaking or communicating with someone to express anger or displeasure about something they have done",
      definition: "Give someone the silent treatment",
      bg: "images/IMG_20250903_140920_818.jpg"
    },
    {
      phrase: "To do things that provoke a strong emotional reaction in someone, especially anger, irritation, or annoyance.",
      definition: "Push someone’s buttons",
      bg: "images/IMG_20250903_141822_979.jpg"
    },
    {
      phrase: "To be extremely careful about what you say or do around someone so as not to upset or offend them",
      definition: "Walk on eggshells",
      bg: "images/IMG_20250903_141408_274.jpg"
    },
    {
      phrase: "To end a relationship or stop talking to someone, especially suddenly or without explanation.",
      definition: "Cut someone off",
      bg: "images/IMG_20250903_141829_796.jpg"
    },
    {
      phrase: "To end or discontinue a relationship with a person or group, ceasing all communication and association with them",
      definition: "Cut ties with (someone)",
      bg: "images/IMG_20250903_141305_057.jpg"
    },
    {
      phrase: "To end a romantic or close personal relationship with someone",
      definition: "Break up (with somebody)",
      bg: "images/IMG_20250903_141205_089.jpg"
    },
    {
      phrase: "To stop being angry with someone for what they did and to stop thinking about it",
      definition: "Forgive and forget",
      bg: "images/IMG_20250903_145121_076.jpg"
    },
    {
      phrase: "To do something good or helpful for a person you have hurt or treated wrongly, in order to apologize and fix your relationship with them.",
      definition: "Make it up to (someone)",
      bg: "images/IMG_20250903_141312_031.jpg"
    },
    {
      phrase: "To forgive someone and become friendly with them again after an argument or disagreement.",
      definition: "Make up (with somebody)",
      bg: "images/IMG_20250903_142004_589.jpg"
    },
    {
      phrase: "To make efforts to improve relationships and understanding between people who may disagree or dislike each other",
      definition: "Build bridges",
      bg: "images/IMG_20250903_142707_737.jpg"
    },
    {
      phrase: "To like someone and quickly develop a friendly relationship, getting along well from the very first meeting.",
      definition: "Hit it off (with someone)",
      bg: "images/IMG_20250903_142424_710.jpg"
    },
    {
      phrase: "To quickly like someone and understand them easily, especially when you meet someone for the first time.",
      definition: "Click with (someone)",
      bg: "images/IMG_20250903_142424_795.jpg"
    },
    {
      phrase: "To think in a similar way and to understand each other well.",
      definition: "Be on the same wavelength",
      bg: "images/IMG_20250903_142425_735.jpg"
    },
    {
      phrase: "To completely agree with someone or share the same point of view.",
      definition: "See eye to eye (with someone)",
      bg: "images/IMG_20250903_142427_206.jpg"
    },
    {
      phrase: "To have a very close and trusting friendship, characterized by strong loyalty and support.",
      definition: "Be (as) thick as thieves",
      bg: "images/IMG_20250903_142657_194.jpg"
    },
    {
      phrase: "To begin sharing your true thoughts and feelings honestly and freely. It involves expressing what you really think or feel, allowing others to understand your inner emotions and thoughts more clearly.",
      definition: "Open up (to somebody)",
      bg: "images/IMG_20250903_143413_157.jpg"
    },
    {
      phrase: "(of people) To remain close and united with each other, offering mutual support and help through challenges.",
      definition: "Stick together",
      bg: "images/IMG_20250903_143414_742.jpg"
    },
    {
      phrase: "To develop a close connection or strong relationship with someone, often characterized by mutual trust, affection, or shared experiences.",
      definition: "Form a bond (with somebody)",
      bg: "images/IMG_20250903_145119_879.jpg"
    },
    {
      phrase: "To be ready to help, support, or defend someone, especially in a difficult situation.",
      definition: "Have someone’s back",
      bg: "images/IMG_20250903_141959_493.jpg"
    },
    {
      phrase: "To maintain communication with someone over time by regularly talking, writing, or connecting, so as to stay involved in each other's lives and show ongoing care and interest.",
      definition: "Keep in touch (with someone)",
      bg: "images/IMG_20250904_171745_934.jpg"
    },
    {
      phrase: "To rely on someone for help, support, or encouragement when facing challenges.",
      definition: "Lean on someone",
      bg: "images/IMG_20250904_171935_846.jpg"
    },
    {
      phrase: "To be sure that you can rely on someone to help or support you.",
      definition: "Count on (someone)",
      bg: "images/IMG_20250904_171937_520.jpg"
    },
    {
      phrase: "To ask someone for help, advice, or support when you have a problem or need assistance",
      definition: "Turn to someone",
      bg: "images/IMG_20250904_171938_341.jpg"
    },
    {
      phrase: "To be completely and deeply in love with someone",
      definition: "Be head over heels (in love)",
      bg: "images/IMG_20250903_142036_391.jpg"
    },
    {
      phrase: "To invite someone to go on a date with you because you like them",
      definition: "Ask someone out",
      bg: "images/IMG_20250904_172204_923.jpg"
    },
    {
      phrase: "To love someone even if they don't love you back",
      definition: "Carry a torch for someone",
      bg: "images/IMG_20250904_173550_086.jpg"
    }
  ];

  const thumbnailSrc = 'images/IMG_20250903_213428_796.jpg';
  const container = document.getElementById('cardsContainer');

  function createCard(word) {
    const card = document.createElement('article');
    card.classList.add('card');
    card.setAttribute('role', 'listitem');
    card.style.backgroundImage = `url('${word.bg}')`;
    card.tabIndex = 0;

    const phraseContainer = document.createElement('div');
    phraseContainer.className = 'phrase-container';

    const phraseDiv = document.createElement('div');
    phraseDiv.className = 'phrase';
    phraseDiv.textContent = word.phrase;

    const thumb = document.createElement('img');
    thumb.className = 'toggle-thumbnail';
    thumb.src = thumbnailSrc;
    thumb.alt = 'Toggle definition';
    thumb.setAttribute('aria-expanded', 'false');
    thumb.setAttribute('role', 'button');
    thumb.tabIndex = 0;

    phraseContainer.appendChild(phraseDiv);
    phraseContainer.appendChild(thumb);

    const defDiv = document.createElement('div');
    defDiv.className = 'definition';
    defDiv.textContent = word.definition;
    defDiv.setAttribute('aria-hidden', 'true');

    card.appendChild(phraseContainer);
    card.appendChild(defDiv);

    function toggleDef() {
      const isOpen = defDiv.classList.toggle('show');
      if (isOpen) {
        thumb.classList.add('open');
        thumb.setAttribute('aria-expanded', 'true');
        defDiv.setAttribute('aria-hidden', 'false');
      } else {
        thumb.classList.remove('open');
        thumb.setAttribute('aria-expanded', 'false');
        defDiv.setAttribute('aria-hidden', 'true');
      }
    }

    thumb.addEventListener('click', toggleDef);
    thumb.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleDef();
      }
    });

    return card;
  }

  words.forEach(word => {
    container.appendChild(createCard(word));
  });

  // Раскрыть все определения перед печатью
  function expandAllDefinitions() {
    document.querySelectorAll('.definition').forEach(def => {
      def.classList.add('show');
      def.setAttribute('aria-hidden', 'false');
    });
    document.querySelectorAll('.toggle-thumbnail').forEach(thumb => {
      thumb.classList.add('open');
      thumb.setAttribute('aria-expanded', 'true');
    });
  }

  // Свернуть определения после печати
  function collapseAllDefinitions() {
    document.querySelectorAll('.definition').forEach(def => {
      def.classList.remove('show');
      def.setAttribute('aria-hidden', 'true');
    });
    document.querySelectorAll('.toggle-thumbnail').forEach(thumb => {
      thumb.classList.remove('open');
      thumb.setAttribute('aria-expanded', 'false');
    });
  }

  // Кнопка печати: сначала раскрыть определения, затем открыть диалог печати
  document.getElementById('printBtn').addEventListener('click', () => {
    expandAllDefinitions();
    setTimeout(() => {
      window.print();
    }, 250);
  });

  window.onafterprint = () => {
    collapseAllDefinitions();
  };
</script>
</body>
</html>
